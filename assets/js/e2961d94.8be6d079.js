"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8533],{3905:function(e,t,r){r.d(t,{Zo:function(){return p},kt:function(){return k}});var n=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(r),k=o,m=u["".concat(s,".").concat(k)]||u[k]||d[k]||a;return r?n.createElement(m,i(i({ref:t},p),{},{components:r})):n.createElement(m,i({ref:t},p))}));function k(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,i=new Array(a);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},4316:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return u}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),i=["components"],l={title:"Readme"},s="<div>",c={unversionedId:"packages/koa/README",id:"packages/koa/README",title:"Readme",description:'<a href="https://discord.gg/yHQY9fexH9"',source:"@site/docs/packages/koa/README.md",sourceDirName:"packages/koa",slug:"/packages/koa/",permalink:"/docs/packages/koa/",editUrl:"https://github.com/oceanroleplay/discord.ts/edit/main/docs/docs/packages/koa/README.md",tags:[],version:"current",frontMatter:{title:"Readme"},sidebar:"packagesSidebar",previous:{title:"Modifier",permalink:"/docs/packages/internal/api/classes/Modifier"},next:{title:"Exports",permalink:"/docs/packages/koa/api/"}},p=[{value:"Example",id:"example",children:[],level:2},{value:"Example",id:"example-1",children:[],level:2}],d={toc:p};function u(e){var t=e.components,r=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:""}),(0,a.kt)("div",null,(0,a.kt)("p",{align:"center"},(0,a.kt)("a",{href:"https://discord-ts.js.org",target:"_blank",rel:"nofollow"},(0,a.kt)("img",{src:"https://discord-ts.js.org/discord-ts.svg",width:"546"}))),(0,a.kt)("p",{align:"center"},(0,a.kt)("a",{href:"https://discord.gg/yHQY9fexH9"},(0,a.kt)("img",{src:"https://img.shields.io/discord/874802018361950248?color=5865F2&logo=discord&logoColor=white",alt:"Discord server"})),(0,a.kt)("a",{href:"https://www.npmjs.com/package/@discordx/koa"},(0,a.kt)("img",{src:"https://img.shields.io/npm/v/@discordx/koa.svg?maxAge=3600",alt:"NPM version"})),(0,a.kt)("a",{href:"https://www.npmjs.com/package/@discordx/koa"},(0,a.kt)("img",{src:"https://img.shields.io/npm/dt/@discordx/koa.svg?maxAge=3600",alt:"NPM downloads"})),(0,a.kt)("a",{href:"https://github.com/oceanroleplay/discord.ts/actions"},(0,a.kt)("img",{src:"https://github.com/oceanroleplay/discord.ts/workflows/Build/badge.svg",alt:"Build status"})),(0,a.kt)("a",{href:"https://www.paypal.me/vijayxmeena"},(0,a.kt)("img",{src:"https://img.shields.io/badge/donate-paypal-F96854.svg",alt:"paypal"}))),(0,a.kt)("p",{align:"center"},(0,a.kt)("b",null," Create a discord bot with TypeScript and Decorators! "))),(0,a.kt)("h1",{id:"-introduction"},"\ud83d\udcd6 Introduction"),(0,a.kt)("p",null,"This module is an extension of koa, so the internal behavior (methods, properties, ...) is the same"),(0,a.kt)("p",null,"This library allows you to use TypeScript decorators on koa, it simplifies your code and improves the readability!"),(0,a.kt)("h1",{id:"-installation"},"\ud83d\udcbb Installation"),(0,a.kt)("p",null,"Version 16.6.0 or newer of Node.js is required"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"npm install koa @koa/router @discordx/koa\nyarn add koa @koa/router @discordx/koa\n")),(0,a.kt)("h1",{id:"-features"},"\ud83c\udd95 Features"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"@Router")," to create a router on class"),(0,a.kt)("li",{parentName:"ul"},"Support multiple server in a single nodejs instance (@Api)"),(0,a.kt)("li",{parentName:"ul"},"Support TSyringe"),(0,a.kt)("li",{parentName:"ul"},"Support ECMAScript")),(0,a.kt)("h1",{id:"-get--post-"},"\ud83d\udcdf @Get / @Post ..."),(0,a.kt)("p",null,"Decorators for all koa methods, ",(0,a.kt)("inlineCode",{parentName:"p"},"@Get @Post @All @Delete @Head @Link @Unlink @Options")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"KOA instance available at the end of each handler's arguments")),(0,a.kt)("h2",{id:"example"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'@Router()\nclass Example {\n  @Get("/")\n  handle(ctx: RouterContext, next: Next, koa: Koa): Promise<Next> {\n    ctx.body = "Hello world!";\n    return next();\n  }\n}\n')),(0,a.kt)("h1",{id:"-middleware"},"\ud83d\udcdf @Middleware"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"If you add middleware to a class, it will be executed on each route within it.")),(0,a.kt)("h2",{id:"example-1"},"Example"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'function Log(ctx: RouterContext, next: Next) {\n  console.log("request: " + ctx.URL);\n  return next();\n}\n\nfunction Authenticated(ctx: RouterContext, next: Next) {\n  ctx.body = "unauthorised required";\n  // we are not returning next, to avoid further execution\n  return;\n}\n\n@Router()\n@Middleware(Log) // will execute for all sub routes\nclass Example {\n  @Get("/")\n  hello(ctx: RouterContext, next: Next): Promise<Next> {\n    ctx.body = "Hello world!";\n    return next();\n  }\n\n  @Get("/auth")\n  @Middleware(Authenticated)\n  auth(ctx: RouterContext, next: Next): Promise<Next> {\n    ctx.body = "Hello world!";\n    return next();\n  }\n}\n')),(0,a.kt)("h1",{id:"\ufe0f-need-help"},"\u260e\ufe0f Need help?"),(0,a.kt)("p",null,"Ask in ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://discord.gg/yHQY9fexH9"},"discord server"))," or open a ",(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("a",{parentName:"strong",href:"https://github.com/oceanroleplay/discord.ts/issues"},"issue"))),(0,a.kt)("h1",{id:"thank-you"},"Thank you"),(0,a.kt)("p",null,"Show your support for ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/discordx"},"discordx")," by giving us a star on ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/oceanroleplay/discord.ts"},"github"),"."))}u.isMDXComponent=!0}}]);